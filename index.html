
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bestiário - Terras de Calisto</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <nav class="nav-bar">
    <div class="logo">
      <a href="https://terrasdecalistoficha.wordpress.com/" target="_blank">
        <img src="imagens/logo.png" alt="Logo Terras de Calisto">
      </a>
    </div>
<button id="abrirPopupRaca" class="toggle-button2">Token Raças</button>
<div id="popupRaca" class="popup-overlay">
  <div class="popup-content" id="racaContent"></div>
</div>

<div id="popupImagemRaca" class="popup-overlay">
  <div class="popup-content" id="imagemRacaContent"></div>
</div>
    <div class="nav-list">
      <ul>
        <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/" class="nav-link" target="_blank">Wiki</a></li>
        <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/racas/" class="nav-link" target="_blank">Raças</a></li>
        <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/passados/" class="nav-link" target="_blank">Passados</a></li>
        <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/magias/" class="nav-link" target="_blank">Magias</a></li>
        <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/ainda-em-criacao-passivas/" class="nav-link" target="_blank">Passivas</a></li>
        <li class="nav-item"><a href="https://terras-de-calisto-ficha-rpg.netlify.app/" class="nav-link" target="_blank">Ficha do Jogador</a></li>
      </ul>
    </div>

    <button onclick="menuShow()" class="button-menu">
      <img class="icon" src="imagens/menu.svg" alt="Menu">
    </button>
  </nav>

  <div class="mobile-menu">
    <ul>
      <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/" class="nav-link" target="_blank">Wiki</a></li>
      <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/racas/" class="nav-link" target="_blank">Raças</a></li>
      <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/passados/" class="nav-link" target="_blank">Passados</a></li>
      <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/magias/" class="nav-link" target="_blank">Magias</a></li>
      <li class="nav-item"><a href="https://terrasdecalistoficha.wordpress.com/ainda-em-criacao-passivas/" class="nav-link" target="_blank">Passivas</a></li>
        <li class="nav-item"><a href="https://terras-de-calisto-ficha-rpg.netlify.app/" class="nav-link" target="_blank">Ficha do Jogador</a></li>
    </ul>
  </div>
</header>
<!-- Popup tutorial -->
<div id="tutorialPopup" class="popup">
  <style>
    /* Títulos e subtítulos */
    h2 {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(90deg, #D8902D, #DC143C); /* Fé */
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 0.6em;
    }
    h3 {
      font-size: 1.3rem;
      font-weight: 600;
      color: #DC143C; /* Fé vermelho mais forte */
      margin-top: 1em;
      margin-bottom: 0.4em;
    }

    /* Estilo para listas e parágrafos */
    li {
      margin-left: 1.5em;
      margin-bottom: 0.3em;
      font-weight: 600;
    }

    /* Palavras-chave e elementos destacados */
    .pv { color: #D32F2F; font-weight: 700; } /* vermelho para PV */
    .san { color: #7B1FA2; font-weight: 700; } /* roxo para SAN */
    .especial { color: #FBC02D; font-weight: 700; } /* amarelo especial */
    
    /* Atributos com fundo e texto */
    .bru {
      background-color: #000000;
      color: white;
      padding: 0 5px;
      border-radius: 3px;
      font-weight: 700;
    }
.agi {
  background-color: #81D4FA; /* Azul claro */
  color: #01579B; /* Azul escuro */
  padding: 0 5px;
  border-radius: 3px;
  font-weight: 700;
}

    .pre {
      background: linear-gradient(135deg, orange, green);
      color: white;
      padding: 0 5px;
      border-radius: 3px;
      font-weight: 700;
    }
    .det {
      background: linear-gradient(135deg, #D8902D, #DC143C);
      color: white;
      padding: 0 5px;
      border-radius: 3px;
      font-weight: 700;
    }
    .lib {
      background: linear-gradient(135deg, #201d36, #8A2BE2);
      color: white;
      padding: 0 5px;
      border-radius: 3px;
      font-weight: 700;
    }
    .cnx {
      background: linear-gradient(135deg, purple, #8A2BE2);
      color: white;
      padding: 0 5px;
      border-radius: 3px;
      font-weight: 700;
    }

    /* Textos com degradê */
    .grad-text {
      background: linear-gradient(90deg, #D8902D, #DC143C);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 700;
    }

    /* Outros ajustes gerais para facilitar leitura */
    p, li {
      font-size: 1rem;
      line-height: 1.4;
      margin-bottom: 0.5em;
    }

    strong {
      font-weight: 700;
    }

  </style>

 <div class="popup-content tutorial-content">
  <div class="chess-button-container">
    <button id="closeTutorial" class="close" aria-label="Fechar tutorial">&times;</button>
    <button id="openChessPopup" class="chess-btn">Modo Chess</button>
  </div>

    <div class="tutorial-flex">

     <div class="tutorial-section">
  <h2>1. Introdução</h2>
  <p>
    Este é um <strong>tutorial rápido exclusivo para Mestres</strong>, focado na manipulação de criaturas, atributos e níveis. 
    Caso esteja procurando como criar um personagem jogador, acesse o <a href="https://terras-de-calisto-ficha-rpg.netlify.app/" target="_blank" class="link-tutorial">Tutorial Completo de Criação de Personagem</a>.
  </p>
  <p>
    Aqui, basta escolher um monstro ou personagem já pronto, editar seus <strong>atributos (PV, SAN, Especial e Armadura)</strong> e ajustar o <strong>nível</strong> conforme necessário.
    Você também pode visualizar e ativar as <strong>habilidades</strong> do monstro de forma rápida.
  </p>
  <img src="/imagens/mundo_calisto.png" alt="Mapa sombrio de Calisto com ícones dos quatro elementos" style="width:100%; border-radius:10px;">
</div>

<!-- POPUP MODO CHESS -->
<div id="chessTutorialPopup" class="chess-popup" style="display: none;">
  <div class="chess-popup-content" id="chessPopupContent">
    <span id="closeChessPopup" class="chess-popup-close">&times;</span>
    <div class="chess-popup-flex">

      <!-- SEÇÃO 1 -->
      <div class="chess-popup-section">
        <h2>1. O que é o Modo Chess?</h2>
        <p>
          O <strong>Modo Chess</strong> é uma variação de xadrez baseada em <strong>Roleplay Tático</strong>, onde cada peça representa uma <strong>criatura do Bestiário de Terras de Calisto</strong>.
        </p>
        <ul>
          <li>O combate segue as regras clássicas de Terras de Calisto.</li>
          <li>Magias, habilidades e reações funcionam apenas durante o combate.</li>
          <li>Cada peça possui <strong>pontos de vida próprios</strong>:</li>
        </ul>
          <li><strong>Peão:</strong> 20 de vida</li>
          <li><strong>Torre:</strong> 35 de vida</li>
          <li><strong>Bispo:</strong> 30 de vida</li>
          <li><strong>Cavalo:</strong> 25 de vida</li>
          <li><strong>Rainha:</strong> 50 de vida</li>
          <li><strong>Rei:</strong> 1 de vida (se for morto, a partida termina)</li>
        <p>
          O jogador pode substituir qualquer peça por seu <strong>personagem jogável</strong>, mantendo a vida padrão da posição. Cada lado pode ser controlado por jogadores ou pelo mestre.
        </p>
        <p><a href="https://bestiario-terrasdecalisto.netlify.app/" target="_blank">Acesse o Bestiário</a> para escolher sua criatura.</p>
        <img src="imagens/exemplo_tabuleiro.png" alt="Exemplo de Tabuleiro" class="chess-img">
      </div>

<!-- SEÇÃO 2 -->
<div class="chess-popup-section">
  <h2>2. Combate e Check</h2>
  <p>
    Quando <strong>duas ou mais peças</strong> (até o limite de <strong>4 por quadrado</strong>) se encontram no mesmo espaço,
    inicia-se um combate por turnos.
  </p>
  <li>O combate utiliza o sistema de Terras de Calisto (turnos, reações, atributos).</li>
  <li>O jogador pode realizar até 3 reações por turno (ex: esquiva, bloqueio, contra-ataque).</li>
  <li>Check (xeque) continua funcionando como no xadrez tradicional.</li>
  <li>Checkmate (xeque-mate) não encerra o jogo: o Rei deve fugir ou outra peça deve intervir no combate.</li>
  <li>A eliminação do Rei em combate é a única forma de vitória.</li>
  <img src="/imagens/exemplo_combate.png" alt="Exemplo de Combate" class="chess-img">
</div>

      <!-- SEÇÃO 3 -->
      <div class="chess-popup-section">
        <h2>3. Estratégia e Customização</h2>
        <p>
          Cada criatura do Bestiário possui <strong>habilidades únicas</strong>, magias e características de combate. Algumas podem se mover por teleporte ou usar efeitos fora do combate, conforme suas passivas.
        </p>
          <li>Apenas <strong>teleporte e habilidades passivas</strong> funcionam fora do combate.</li>
          <li>Você pode montar times com criaturas temáticas, facções ou aliados da história.</li>
          <li>O jogo pode ser PvP entre jogadores, PvM com mestre ou misto.</li>
        <img src="/imagens/exemplo_criatura.png" alt="Exemplo de Criatura" class="chess-img">
      </div>

    </div>
  </div>
</div>

<!-- POPUP COMBATE SECUNDÁRIO -->
<div id="combatPopup" class="chess-popup" style="display: none;">
  <div class="chess-popup-content">
    <span id="closeCombatPopup" class="chess-popup-close">&times;</span>
    <h2>Regras de Combate (Modo Chess)</h2>
    <p>Durante o combate entre peças ou personagens:</p>
    <ul>
      <li><strong>Iniciativa:</strong> Cada peça joga 1d20 para determinar a ordem de ação.</li>
      <li><strong>Ataques:</strong> Baseados nos atributos da criatura (ex: Brutalidade + 1d20 contra DT).</li>
      <li><strong>Reações:</strong> Até 3 por turno (esquiva, contra-ataque, defesa).</li>
      <li><strong>Condições especiais:</strong> queimando, paralisado, amaldiçoado, etc., conforme magias e efeitos do Bestiário.</li>
      <li><strong>Eliminação:</strong> Ao chegar a 0 de vida, a peça é removida do tabuleiro.</li>
    </ul>
    <p>Consulte as <a href="https://terrasdecalistoficha.wordpress.com/como-jogar/" target="_blank">Regras Completas</a> para detalhes sobre reações, atributos e testes.</p>
  </div>
</div>

    </div>
  </div>
</div>



<!-- Botão fixo para abrir tutorial -->
<button id="openTutorialButton">Tutorial</button>

    
  <div id="app">

    
    <div id="left-section">

<div id="creatureStats" style="display:none;">
  <h2 id="creatureName"></h2>

  <div id="imageContainer" class="image-container"></div>
  
  <div id="imageControls">
    <button id="prevImage">◀</button>
    <button id="nextImage">▶</button>
  </div>


      


        <section class="toggle-section">
          <button class="toggle-button">Mostrar/Esconder Descrição</button>
          <div class="toggle-content">
            <p id="bonus3"></p>

            <div id="descricao"></div> <!-- Onde a descrição formatada será exibida -->
          </div>
        </section>
        
      </div>
    </div>
    <div id="right-section">
       <div class="titulo-com-contador">
  <h2>Selecione uma das</h2>
  <div class="contador" id="contador">0</div>
  <h2>Criaturas</h2>
</div>


<button id="abrirPopup">Selecionar Criatura</button>

<div id="popup" class="popup-overlay"> 
  <div class="popup-container">
<h3 style="
  background: linear-gradient(90deg, #241f1d, #12191b);
  color: rgb(235, 163, 9);
  padding: 2px 5px;
  border-radius: 2px;
  text-align: center;
  font-weight: bold;
  max-width: auto;
  margin: 2px auto;
">
  Bestiário de Terras de Calisto
</h3>
    <!--<p>alguma coisa</p>-->
    <div class="popup-content" id="listaCriaturas"></div>
  </div>
</div>

       <select id="creatureSelect">
        
        <option value="">Selecione uma Criatura</option>
      </select>

      <div class="stat-summary">
  <h3>Atributos</h3>
  <div class="level-buttons">
    <p><strong>Nível:</strong> <span id="creatureLevel">1</span></p>

    <button id="levelUpButton">Aumentar o nível</button>
    <button id="levelDownButton">Diminuir o nível</button>
    
  </div>
</div>

     <!-- Seção de Vida, Sanidade e Especial -->
     <div class="stat-summary">
      <p><strong>Vida:</strong> <span id="vida" class="vida"></span></p>
      <p><strong>Sanidade:</strong> <span id="sanidade" class="sanidade"></span></p>
      <p><strong>Especial:</strong> <span id="especial" class="especial"></span></p>
      <p><strong>Armor:</strong> <span id="armadura" class="armadura"></span></p>
      <p>Movimento: <span id="movimento"></span></p>

    </div>
    

<!-- Seção de BRU, AGI, DET, PRE, LIB, CNX, etc. -->
<div class="stat-details">
  <div class="stat-container">
      <p><strong>BRU:</strong> <span id="bru"></span> 
          <span class="secondary">Dano: <span id="bruDano"></span>Teste: <span id="bruTest"></span></span>
      </p>
      <p><strong>AGI:</strong> <span id="agi"></span> 
          <span class="secondary">Dano: <span id="agiDano"></span>Teste: <span id="agiTest"></span></span>
      </p>
  </div>
  <div class="stat-container">
      <p><strong>DET:</strong> <span id="det"></span> 
          <span class="secondary">Dano: <span id="detDano"></span>Teste: <span id="detTest"></span></span>
      </p>
      <p><strong>PRE:</strong> <span id="pre"></span> 
          <span class="secondary">Dano: <span id="preDano"></span>Teste: <span id="preTest"></span></span>
      </p>
  </div>
  <div class="stat-container">
      <p><strong>LIB:</strong> <span id="lib"></span> 
          <span class="secondary">Dano: <span id="libDano"></span>Teste: <span id="libTest"></span></span>
      </p>
      <p><strong>CNX:</strong> <span id="cnx"></span> 
          <span class="secondary">Dano: <span id="cnxDano"></span>Teste: <span id="cnxTest"></span></span>
      </p>
  </div>
</div>
        

        


        <div id="bonus" class="bonus-container"></div>
<div class="tituloAAAU"><strong>Ataque básico da Criatura:</strong></div>
<div id="Ataquebásico" class="bonus2-paragraph"></div>
<div class="tituloAAAU"><strong>Habilidades únicas:</strong></div>

        <p id="bonus2"></p>
        <div class="stat-summary2">
          <h4>Magias</h4>
          <p id="Magias"></p>
        </div>
        <div class="stat-summary2">
          <h4>Passivas</h4>
          <p id="Passivas"></p>
        </div>
        <div class="stat-summary2">          
          <h4>Talentos</h4>
          <p id="Talentos"></p>
        </div>
     
       
        
    
    </div>
<!-- ============================== -->  
<!-- POPUP EXCLUSIVO PARA CRIATURA  -->
<!-- ============================== -->
<div id="popupCriatura" class="criatura-overlay">
  <div class="criatura-container">
    <button id="fecharPopupCriatura" class="criatura-fechar">✖</button>
    <div id="conteudoCriatura"></div>
  </div>
</div>

<style>
/* ==============================================================
   POPUP DE CRIATURA — CSS EXCLUSIVO E ISOLADO
   Prefixo único: .criatura-
   ============================================================= */

/* ===== OVERLAY ===== */
.criatura-overlay {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  background: rgba(10, 10, 10, 0.9);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  animation: criatura-fadeIn 0.4s ease forwards;
}

/* ===== CONTAINER PRINCIPAL ===== */
.criatura-container {
  width: 92%;
  max-width: 900px;
  background: linear-gradient(180deg, #181818 0%, #0e0e0e 100%);
  color: #ececec;
  border-radius: 14px;
  border: 1px solid rgba(255, 215, 100, 0.12);
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
  padding: 32px 28px;
  overflow-y: auto;
  max-height: 92vh;
  display: flex;
  flex-direction: column;
  gap: 26px;
  scrollbar-width: thin;
  font-family: "Cinzel", serif;
  animation: criatura-rise 0.35s ease-out;
}

/* ===== CABEÇALHO (IMAGEM + TÍTULO) ===== */
.criatura-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 16px;
}

.criatura-imagem {
  width: clamp(120px, 22vw, 200px);
  border-radius: 12px;
  border: 1px solid #555;
  object-fit: contain;
  box-shadow: 0 0 18px rgba(255, 215, 0, 0.12);
  transition: transform 0.3s ease;
}
.criatura-imagem:hover {
  transform: scale(1.05);
}

.criatura-titulo {
  font-size: 1.9rem;
  color: #ffd86b;
  letter-spacing: 0.5px;
  text-shadow: 0 0 8px rgba(255, 215, 0, 0.2);
  margin: 0;
}

/* ===== BLOCO DE STATUS (VIDA / SANIDADE / ETC) ===== */
.criatura-status {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
  background: #1f1f1f;
  border: 1px solid #2f2f2f;
  border-radius: 10px;
  padding: 14px;
}

.criatura-status p {
  background: linear-gradient(180deg, #2a2a2a 0%, #181818 100%);
  border: 1px solid #3c3c3c;
  border-radius: 8px;
  padding: 10px;
  text-align: center;
  color: #e0e0e0;
  font-weight: 500;
  font-size: 0.96rem;
  transition: all 0.25s ease;
}
.criatura-status p:hover {
  background: linear-gradient(180deg, #333 0%, #222 100%);
  transform: translateY(-2px);
}

/* ===== CORES DOS STATUS ===== */
.criatura-status span.vida { color: #ff5c5c; font-weight: bold; }
.criatura-status span.sanidade { color: #b084ff; font-weight: bold; }
.criatura-status span.especial { color: #ffb84d; font-weight: bold; }
.criatura-status span.armadura { color: #ccc; font-weight: bold; }

/* ===== ATRIBUTOS SECUNDÁRIOS (3 COLUNAS RESPONSIVAS) ===== */
.criatura-atributos {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 14px;
}

.criatura-atributo {
  background: linear-gradient(180deg, #252525 0%, #151515 100%);
  border: 1px solid #3c3c3c;
  border-radius: 10px;
  padding: 12px 8px;
  text-align: center;
  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.4);
  transition: transform 0.25s ease, box-shadow 0.3s ease;
}
.criatura-atributo:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
}

.criatura-atributo strong {
  color: #ffd86b;
  font-size: 1.05rem;
  margin-bottom: 4px;
  display: block;
}
.criatura-valor { color: #ffe47a; font-size: 1.2rem; font-weight: bold; }
.criatura-dano { color: #00e676; font-size: 0.9rem; display: block; }
.criatura-teste { color: #ff6b6b; font-size: 0.9rem; display: block; }

/* ===== SEÇÕES TEXTUAIS ===== */
.criatura-secao {
  background: linear-gradient(180deg, #1d1d1d 0%, #121212 100%);
  border-radius: 10px;
  border: 1px solid #2b2b2b;
  padding: 16px 20px;
  width: 100%;
  transition: all 0.3s ease;
}
.criatura-secao:hover {
  background: linear-gradient(180deg, #252525 0%, #141414 100%);
  border-color: #444;
}

.criatura-secao h3 {
  color: #ffd86b;
  border-bottom: 1px solid #3c3c3c;
  padding-bottom: 6px;
  margin-bottom: 10px;
  font-size: 1.1rem;
  letter-spacing: 0.6px;
  text-transform: uppercase;
}
.criatura-secao p {
  color: #d1d1d1;
  line-height: 1.55;
  margin: 6px 0;
  text-align: justify;
  font-size: 0.95rem;
}

/* ===== BOTÃO DE FECHAR ===== */
.criatura-fechar {
  position: sticky;
  top: 8px;
  align-self: flex-end;
  background: #242424;
  color: #ffd86b;
  border: 1px solid #444;
  border-radius: 50%;
  width: 34px;
  height: 34px;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 0 6px rgba(255, 215, 0, 0.15);
}
.criatura-fechar:hover {
  background: #2f2f2f;
  transform: scale(1.1);
  box-shadow: 0 0 12px rgba(255, 220, 120, 0.3);
}

/* ===== SCROLLBAR PERSONALIZADA ===== */
.criatura-container::-webkit-scrollbar { width: 8px; }
.criatura-container::-webkit-scrollbar-thumb {
  background: #555;
  border-radius: 6px;
}
.criatura-container::-webkit-scrollbar-thumb:hover { background: #777; }

/* ===== ANIMAÇÕES ===== */
@keyframes criatura-rise {
  from { transform: scale(0.92); opacity: 0.7; }
  to { transform: scale(1); opacity: 1; }
}
@keyframes criatura-fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ===== RESPONSIVIDADE ===== */
@media (max-width: 768px) {
  .criatura-container { padding: 24px; gap: 18px; }
  .criatura-titulo { font-size: 1.6rem; }
  .criatura-imagem { width: 150px; }
  .criatura-status { grid-template-columns: repeat(3, 1fr); }
  .criatura-atributos { grid-template-columns: repeat(3, 1fr); }
  .criatura-secao { padding: 14px; }
}

@media (max-width: 480px) {
  .criatura-container { padding: 18px; gap: 16px; }
  .criatura-titulo { font-size: 1.4rem; }
  .criatura-imagem { width: 120px; }
  .criatura-status { grid-template-columns: repeat(2, 1fr); }
  .criatura-atributos { grid-template-columns: repeat(2, 1fr); }
  .criatura-secao h3 { font-size: 1rem; }
  .criatura-secao p { font-size: 0.9rem; }
}
</style>

<script>
function abrirPopupPorParametro() {
  const params = new URLSearchParams(window.location.search);
  const idOuNome = params.get("criatura");
  if (!idOuNome) return;

  let criaturaEncontrada = null;
  let nomeEncontrado = null;

  for (const [nome, criatura] of Object.entries(creatures)) {
    if (criatura.id === idOuNome || nome.toLowerCase() === idOuNome.toLowerCase()) {
      criaturaEncontrada = criatura;
      nomeEncontrado = nome;
      break;
    }
  }

  if (criaturaEncontrada) mostrarPopupCriatura(nomeEncontrado, criaturaEncontrada);
}

function mostrarPopupCriatura(nome, criatura) {
  const popup = document.getElementById("popupCriatura");
  const conteudo = document.getElementById("conteudoCriatura");
  popup.style.display = "flex";

  const bonusHTML  = formatBonusText(criatura.bonus,  "bonus1");
  const bonus2HTML = formatBonusText(criatura.bonus2, "bonus2");
  const bonus3HTML = formatBonusText(criatura.bonus3, "bonus3");
  const descHTML   = formatDescriptionText(criatura.Descricao);

  const atributos = ["bru", "agi", "det", "pre", "lib", "cnx"];
  const atributosExtras = atributos.map(attr => {
    const base = criatura[attr] ?? "-";
    const dano = criatura[`${attr}Dano`] ?? "-";
    const test = criatura[`${attr}Test`] ?? "-";
    const nomeMaiusculo = attr.toUpperCase();
    return `
      <div class='criatura-atributo'>
        <strong>${nomeMaiusculo}</strong>
        <span class='criatura-valor'>${base}</span>
        <span class='criatura-dano'>Dano: ${dano}</span>
        <span class='criatura-teste'>Teste: ${test}</span>
      </div>`;
  }).join("");

  conteudo.innerHTML = `
    <div class="criatura-header">
      <img class="criatura-imagem" src="${criatura.img}" alt="${nome}">
      <h2 class="criatura-titulo">${nome}</h2>
    </div>

    <div class="criatura-status">
      <p><strong>LVL:</strong> ${criatura.lvl ?? "?"}</p>
      <p><strong>Elemento:</strong> ${criatura.TipoElementoCriatura ?? "Desconhecido"}</p>
      <p><span class="vida">Vida:</span> ${criatura.vida}</p>
      <p><span class="sanidade">Sanidade:</span> ${criatura.sanidade}</p>
      <p><span class="especial">Especial:</span> ${criatura.especial}</p>
      <p><span class="armadura">Movimento:</span> ${criatura.movimento}m</p>
    </div>

    <div class="criatura-atributos">${atributosExtras}</div>

    <div class="criatura-secao"><h3>Bônus</h3>${bonusHTML}</div>
    <div class="criatura-secao"><h3>Ataques</h3>${bonus2HTML}</div>
    <div class="criatura-secao"><h3>Outros</h3>${bonus3HTML}</div>

    <div class="criatura-secao">
      <h3>Habilidades e Poderes</h3>
      <p><strong>Magias:</strong> ${criatura.Magias ?? "Nenhuma"}</p>
      <p><strong>Passivas:</strong> ${criatura.Passivas ?? "Nenhuma"}</p>
      <p><strong>Talentos:</strong> ${criatura.Talentos ?? "Nenhum"}</p>
    </div>

    <div class="criatura-secao">
      <h3>Descrição</h3>
      <div>${descHTML}</div>
    </div>
  `;

  document.getElementById("fecharPopupCriatura").onclick = () => {
    popup.style.display = "none";
    conteudo.innerHTML = "";
    const url = new URL(window.location);
    url.searchParams.delete("criatura");
    window.history.replaceState({}, "", url);
  };
}

window.addEventListener("DOMContentLoaded", abrirPopupPorParametro);
</script>

    

  </div>
  <script src="script.js"></script>
</body>
</html>
